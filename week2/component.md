# コンポーネント 思考

## コンポーネントとは？

コンポーネントとはいわゆるパーツ（部品）のことだと思ってください。React は表示するものをコンポーネントに分けることで再利用性や保守性を高めることが基本的な考え方になっています。

以前はクラスごとに分けるクラスコンポーネントでしたが、現在では関数で分ける関数コンポーネントが主流となっています（クラスは使わないと思って大丈夫です）。

実はサンプルプログラムのページもコンポーネントだったりします（サンプルのようにページコンポーネントと他のコンポーネントはディレクトリを分けるのが一般的です）。

## コンポーネントの考え方

コンポーネントをどのように分けるのか（コンポーネント設計）は現役のエンジニアでも悩ましいところになります。どのように分けるとパフォーマンスと運用においていいのかを日々考えながら設計することが大切です。

基本的には、ボタンや入力フォーム、タイトル部分、画像などいろいろな場面で使いまわせるものはコンポーネント化した方がいいと思います。それに加えて、セクションごとだったり繰り返し表示するカードなど必要なところはコンポーネント化していきましょう。

基本的には
- 繰り返し使うものか
- 汎用性の高いものか

を基準にコンポーネント設計を考えるといいでしょう。

## コンポーネントの使い方

コンポーネントはファイルを分けることが多いので、その場合は `export` をします。
```typescript
export const Child = () => {
  return (
    <div>
      <h1>こんにちは</h1>
      <p>お元気ですか</p>
    </div>
  )
}
```

コンポーネントはよく値を渡す方を親、受け取る方を子というようにいいます。

子コンポーネントを親コンポーネントで使用するには `import` して使います。使用する時は import する時に指定した名前を HTML タグのようにして書きます。
```typescript
import Child from 'コンポーネントファイルのパス'

const Parent = () => {
  return (
    <>
      <Child />
    </>
  )
}
```

## import / export

import と export は外部ライブラリやコンポーネンtを使う使用する時に使います。

個別で export した場合、import する時は `{}` で括ってexport したときと同じ名前を使います。名前を変えたい時は `as` を使いましょう。
```typescript
export const App = () => //以下省略

import { App } from "ファイルの場所のパス"  //◯
import { Hoge } from "ファイルの場所のパス" //×

import { App as Hoge } from "ファイルの場所のパス" //asで名前を変えることができる
```

export のデフォルト値を設定した場合は、そのファイルから出力されるものはデフォルト値のみとなるので、自由な名前をつけることができます（通常は同じ名前を使用します）。
```typescript
export default App

import App from "ファイルの場所のパス"  //◯
import Hoge from "ファイルの場所のパス" //◯
```

個別で export をするメリットは、同じファイルに複数の変数や関数、コンポーネントなどを置くことができることです。ですが、同じファイルに export が多くなりすぎるとコードが読みにくくなってしまうので、必要に合わせて export の仕方を変えましょう。

## コンポーネントの型

React では TypeScript を記述する際にコンポーネントの型というものも用意されています。それが `FC (Function Component)` と `VFC (Void Function Component)` です。二つの違いについては次の Props のページで説明をします。

コンポーネントの型定義の書き方は以下の通りです。
```typescript
import React from 'react'
const component: React.VFC = () => //以下省略

//もしくは
import React, { VFC } from 'react'
const component: VFC = () => //以下省略
```
